name: Daily Commit

on:
  schedule:
    # ë§¤ì¼ í•œêµ­ ì‹œê°„ ì˜¤ì „ 9ì‹œì— ì‹¤í–‰ (UTC 0ì‹œ)
    - cron: '0 0 * * *'
  workflow_dispatch: # ìˆ˜ë™ìœ¼ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  daily-commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Setup Git
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"

      - name: Create daily commit
        run: |
          # í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„
          echo "Daily commit: $(date '+%Y-%m-%d %H:%M:%S KST')" >> daily_activity.log
          
          # ëœë¤í•œ í™œë™ ë©”ì‹œì§€ ìƒì„±
          activities=(
            "ì½”ë“œ ë¦¬ë·° ë° ê°œì„ "
            "ë¬¸ì„œ ì—…ë°ì´íŠ¸"
            "ë²„ê·¸ ìˆ˜ì •"
            "ì„±ëŠ¥ ìµœì í™”"
            "í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±"
            "README ì—…ë°ì´íŠ¸"
            "ì½”ë“œ ì •ë¦¬"
            "ì£¼ì„ ì¶”ê°€"
            "ë¡œê¹… ê°œì„ "
            "ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ "
          )
          
          # ëœë¤í•˜ê²Œ í™œë™ ì„ íƒ
          random_activity=${activities[$RANDOM % ${#activities[@]}]}
          
          # ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±
          commit_message="ğŸŒ± Daily activity: $random_activity - $(date '+%Y-%m-%d')"
          
          echo "$commit_message" >> daily_activity.log
          
          # íŒŒì¼ ì¶”ê°€ ë° ì»¤ë°‹
          git add daily_activity.log
          git commit -m "$commit_message"
          
          # í‘¸ì‹œ
          git push

      - name: Show commit info
        run: |
          echo "âœ… Daily commit completed!"
          echo "ğŸ“… Date: $(date)"
          echo "ğŸŒ± Activity log updated"
