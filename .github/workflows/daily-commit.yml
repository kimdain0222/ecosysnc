name: Daily Commit

on:
  schedule:
    # ë§¤ì¼ ëœë¤í•œ ì‹œê°„ì— ì‹¤í–‰ (UTC ê¸°ì¤€ 0-23ì‹œ ì¤‘ ëœë¤)
    - cron: '0 0 * * *'  # ë§¤ì¼ UTC 0ì‹œ (í•œêµ­ì‹œê°„ ì˜¤ì „ 9ì‹œ)
    - cron: '30 6 * * *' # ë§¤ì¼ UTC 6ì‹œ 30ë¶„ (í•œêµ­ì‹œê°„ ì˜¤í›„ 3ì‹œ 30ë¶„)
    - cron: '15 12 * * *' # ë§¤ì¼ UTC 12ì‹œ 15ë¶„ (í•œêµ­ì‹œê°„ ì˜¤í›„ 9ì‹œ 15ë¶„)
  workflow_dispatch: # ìˆ˜ë™ìœ¼ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  daily-commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Setup Git
        run: |
          git config --local user.email "neolove0125@gmail.com"
          git config --local user.name "Energy System Bot"

      - name: Create daily commit
        run: |
          # í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„
          echo "Daily commit: $(date '+%Y-%m-%d %H:%M:%S KST')" >> daily_activity.log
          
          # ëœë¤í•œ í™œë™ ë©”ì‹œì§€ ìƒì„±
          activities=(
            "ì—ë„ˆì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ ì½”ë“œ ë¦¬ë·°"
            "ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ ì„±ëŠ¥ ê°œì„ "
            "IoT ì„¼ì„œ ë°ì´í„° ì²˜ë¦¬ ìµœì í™”"
            "ì›¹ ëŒ€ì‹œë³´ë“œ UI/UX ê°œì„ "
            "ë°ì´í„° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì—…ë°ì´íŠ¸"
            "API ì—”ë“œí¬ì¸íŠ¸ ì„±ëŠ¥ íŠœë‹"
            "ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ ê°•í™”"
            "ì—ë„ˆì§€ ì˜ˆì¸¡ ì•Œê³ ë¦¬ì¦˜ ê°œì„ "
            "ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”"
            "ë³´ì•ˆ ì·¨ì•½ì  ì ê²€ ë° ìˆ˜ì •"
            "í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ"
            "ë¬¸ì„œí™” ë° ì£¼ì„ ê°œì„ "
            "ë¡œê¹… ì‹œìŠ¤í…œ ê°•í™”"
            "ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ "
            "ì½”ë“œ ë¦¬íŒ©í† ë§"
            "ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì¶”ê°€"
            "ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜"
            "ë°°í¬ ìë™í™” ê°œì„ "
            "ë°ì´í„° ì‹œê°í™” ì—…ë°ì´íŠ¸"
            "ì•Œê³ ë¦¬ì¦˜ ì •í™•ë„ í–¥ìƒ"
          )
          
          # ëœë¤í•˜ê²Œ í™œë™ ì„ íƒ
          random_activity=${activities[$RANDOM % ${#activities[@]}]}
          
          # ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±
          commit_message="ğŸŒ± Daily activity: $random_activity - $(date '+%Y-%m-%d')"
          
          echo "$commit_message" >> daily_activity.log
          
          # íŒŒì¼ ì¶”ê°€ ë° ì»¤ë°‹
          git add daily_activity.log
          git commit -m "$commit_message"
          
          # í‘¸ì‹œ
          git push

      - name: Show commit info
        run: |
          echo "âœ… Daily commit completed!"
          echo "ğŸ“… Date: $(date)"
          echo "ğŸŒ± Activity log updated"
