# 🚀 스마트 빌딩 에너지 관리 시스템 - 웹 대시보드 가이드

## 📋 개요
Flask 기반의 실시간 웹 대시보드로 스마트 빌딩의 에너지 사용량을 모니터링하고 예측할 수 있습니다.

## 🎯 주요 기능

### ✅ **실시간 모니터링**
- 건물별 전력 사용량 실시간 추적
- 온도, 습도, 공실률 환경 데이터 시각화
- 시간대별 사용 패턴 분석

### ✅ **AI 예측 시스템**
- 머신러닝 모델을 활용한 전력 사용량 예측
- 대화형 예측 인터페이스
- 에너지 절약 권장사항 제공

### ✅ **데이터 분석**
- 모델 성능 비교 및 분석
- 특성 중요도 시각화
- 상세한 통계 정보

## 🚀 실행 방법

### 1. 환경 설정
```bash
# 필요한 라이브러리 설치
pip install flask plotly pandas numpy scikit-learn xgboost lightgbm joblib

# 또는 requirements.txt 사용
pip install -r requirements.txt
```

### 2. 웹 서버 실행
```bash
# Flask 애플리케이션 실행
python app.py
```

### 3. 브라우저 접속
```
http://localhost:5000
```

## 📊 페이지 구성

### 🏠 **홈 페이지** (`/`)
- 시스템 개요 및 주요 기능 소개
- 빠른 통계 정보
- 각 페이지로의 빠른 이동

### 📈 **실시간 대시보드** (`/dashboard`)
- **실시간 전력 사용량 차트**: 최근 100개 데이터 포인트
- **환경 데이터 도넛 차트**: 온도, 습도, 공실률 비율
- **시간대별 패턴**: 24시간 평균 사용량
- **건물별 비교**: 5개 건물의 전력 사용량 비교
- **최근 데이터 테이블**: 실시간 데이터 목록

### 🔮 **예측 페이지** (`/prediction`)
- **대화형 예측 폼**:
  - 건물 선택 (B001~B005)
  - 시간 선택 (0~23시)
  - 공실률 슬라이더 (0~100%)
  - 온도 슬라이더 (-10~40°C)
  - 습도 슬라이더 (0~100%)
- **빠른 설정 버튼**:
  - 사무실, 공장, 피크시간, 야간
- **예측 결과 표시**:
  - 예상 전력 사용량 (kWh)
  - 사용량 수준 분류 (매우 낮음~매우 높음)
  - 에너지 절약 권장사항

### 📊 **분석 페이지** (`/analytics`)
- **모델 성능 비교**:
  - R² Score, RMSE, MAPE 비교 차트
  - 성능 순위 테이블
- **특성 중요도 분석**:
  - 상위 15개 중요 특성 시각화
  - 특성별 중요도 백분율
- **상세 분석 차트**:
  - R² Score 도넛 차트
  - RMSE 라인 차트
  - MAPE 바 차트
- **모델 인사이트**:
  - 최고 성능 모델 정보
  - 주요 발견사항

## 🔧 API 엔드포인트

### **예측 API** (`POST /api/predict`)
```json
{
  "building_id": "B001",
  "hour": 14,
  "occupancy": 80,
  "temperature": 22,
  "humidity": 60
}
```

### **모델 성능 API** (`GET /api/performance`)
```json
{
  "models": ["Random_Forest", "XGBoost", "LightGBM"],
  "r2_scores": [0.9626, 0.9333, 0.9477],
  "rmse_scores": [4.22, 5.63, 4.99],
  "mape_scores": [3.19, 5.23, 4.12]
}
```

### **특성 중요도 API** (`GET /api/importance`)
```json
{
  "features": ["efficiency_power_interaction", "building_efficiency_score"],
  "importance": [0.4683, 0.1119]
}
```

### **실시간 데이터 API** (`GET /api/real_time`)
```json
{
  "timestamp": "2024-01-15T14:30:00",
  "power_consumption": 45.2,
  "temperature": 22.5,
  "humidity": 65,
  "occupancy": 80
}
```

## 🎨 UI/UX 특징

### **반응형 디자인**
- 모바일, 태블릿, 데스크톱 최적화
- Bootstrap 5 기반 레이아웃

### **실시간 업데이트**
- 10초마다 실시간 데이터 갱신
- 1분마다 차트 데이터 업데이트
- 실시간 표시기 애니메이션

### **인터랙티브 차트**
- Chart.js 기반 동적 차트
- 호버 효과 및 툴팁
- 반응형 차트 크기 조정

### **사용자 친화적 인터페이스**
- 직관적인 네비게이션
- 시각적 피드백
- 로딩 애니메이션

## 📱 사용 시나리오

### **시나리오 1: 실시간 모니터링**
1. 대시보드 페이지 접속
2. 실시간 전력 사용량 확인
3. 환경 데이터 상태 점검
4. 건물별 사용량 비교

### **시나리오 2: 전력 사용량 예측**
1. 예측 페이지 접속
2. 건물 및 시간 선택
3. 환경 조건 설정 (슬라이더 조정)
4. 예측 실행 및 결과 확인
5. 에너지 절약 권장사항 검토

### **시나리오 3: 모델 성능 분석**
1. 분석 페이지 접속
2. 모델 성능 비교 차트 확인
3. 특성 중요도 분석
4. 모델 인사이트 검토

## 🔧 기술 스택

### **백엔드**
- **Flask**: 웹 프레임워크
- **Pandas**: 데이터 처리
- **NumPy**: 수치 계산
- **Scikit-learn**: 머신러닝
- **XGBoost/LightGBM**: 앙상블 모델
- **Joblib**: 모델 저장/로드

### **프론트엔드**
- **Bootstrap 5**: UI 프레임워크
- **Chart.js**: 차트 라이브러리
- **jQuery**: DOM 조작
- **Font Awesome**: 아이콘
- **Plotly.js**: 고급 차트

### **데이터베이스**
- **CSV 파일**: 데이터 저장
- **JSON**: 설정 및 메타데이터

## 🚀 배포 옵션

### **로컬 실행**
```bash
python app.py
```

### **Docker 배포**
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["python", "app.py"]
```

### **클라우드 배포**
- **Heroku**: 간편한 배포
- **AWS EC2**: 확장 가능한 인프라
- **Google Cloud Run**: 서버리스 배포

## 📞 문제 해결

### **자주 발생하는 오류**

1. **모델 로드 오류**
   ```
   ❌ 모델 파일을 찾을 수 없습니다.
   ```
   - `models/` 폴더에 모델 파일이 있는지 확인
   - `python scripts/ml_model_developer.py` 실행

2. **데이터 로드 오류**
   ```
   ❌ 데이터를 로드할 수 없습니다.
   ```
   - `data/processed/` 폴더에 전처리된 데이터 확인
   - `python scripts/data_preprocessor.py` 실행

3. **포트 충돌**
   ```
   Address already in use
   ```
   - 다른 포트 사용: `app.run(port=5001)`
   - 기존 프로세스 종료

### **성능 최적화**

1. **메모리 사용량 최적화**
   - 데이터 청크 단위 로드
   - 불필요한 변수 삭제

2. **응답 시간 개선**
   - API 캐싱 구현
   - 데이터베이스 인덱싱

3. **실시간 업데이트 최적화**
   - WebSocket 사용 고려
   - 폴링 간격 조정

## 🎉 완료!

이제 스마트 빌딩 에너지 관리 시스템의 웹 대시보드를 완전히 구축했습니다!

### **주요 성과:**
- ✅ **완전한 웹 애플리케이션** 구축
- ✅ **실시간 모니터링** 시스템
- ✅ **AI 예측** 인터페이스
- ✅ **데이터 분석** 도구
- ✅ **반응형 디자인** 구현

### **다음 단계:**
- IoT 센서 연동
- 실시간 API 구축
- 자동 제어 시스템
- 모바일 앱 개발

**웹 대시보드를 통해 스마트 빌딩의 에너지 효율성을 극대화하세요!** 🚀
